{% extends "base.inicio.html" %} 
{% block titulo %} Registro {% endblock %} 
{% block styles %}
<link rel="stylesheet" type="text/css" href="/css/internal/style.inicio.registro.css">
{% endblock %}
{% block scripts %}
<script src="/js/external/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="/js/external/jquery.maskedinput.js" type="text/javascript"></script>
<script src="/js/internal/script.inicio.registro.js" type="text/javascript"></script>
{% endblock %} 
{% block contenido_principal %}
<div class="panelInicio col-xs-10 col-md-8 col-lg-4 ">
  <img src="/img/icon.png"/>
  <div class="titulo">
    <h2>Registro</h2>
    <p class="subtitle">Smart Medicine Dispenser<p>
  </div>
  <hr/>
  {% if error.tipo == 'GENERAL' %}
  <div class="alert alert-danger" role="alert">
    <i class="far fa-times-circle"></i> {{ error.mensaje }}
  </div>
  {% endif %}
  <form method="post" action="/signup">
    <div {% if error.tipo == 'SERIAL' %} class="form-group has-error"
       {% else %} class="form-group" 
       {% endif %}>
      <label for="serial">Serial Dispensador</label>
      <input type="text" name="serial" id="serial" class="form-control"
        placeholder="XXXXX-XXXXX-XXXXX-XXXXX-XXXXX" 
        value="{{ datos.serial }}" />
      {% if error.tipo == 'SERIAL' %} 
        <span class="help-block">{{ error.mensaje }}</span>
      {% endif %}
    </div>
    <div class="form-row">
      <div class="form-group col-md-6 form-right">
        <label for="nombre">Nombre</label>
        <input type="text" class="form-control" name="nombre" class="form-control"
          id="nombre" placeholder="Nombre" value="{{ datos.nombre }}"
          required />
      </div>
      <div class="form-group col-md-6 form-left">
        <label for="apellido">Apellido</label>
        <input type="text" class="form-control" name="apellido" class="form-control"
          id="apellido" placeholder="1er apellido"
          value="{{ datos.apellido }}" required />
      </div>
    </div>
    <div class="form-group">
      <label for="tlfn">Teléfono</label>
      <input type="text" class="form-control" name="tlfn" id="tlfn" class="form-control"
        pattern="[0-9]{9,14}" placeholder="Número de teléfono"
        title="Debe contener entre 9 y 14 números."
        value="{{ datos.telefono }}" required />
    </div>
    <div {% if error.tipo == 'EMAIL' %} class="form-group has-error"
       {% else %} class="form-group" 
       {% endif %}>
      <label for="email">Email</label>
      <input type="email" name="email" id="email" class="form-control"
        placeholder="email@email.com" value="{{ datos.email }}" 
        required />
      {% if error.tipo == 'EMAIL' %} 
        <span class="help-block">{{ error.mensaje }}</span>
      {% endif %}
    </div>
    <div class="form-row">
   	  <div {% if error.tipo == 'PASSWORD' %} class="form-group col-md-6 form-right has-error"
          {% else %} class="form-group col-md-6 form-right" 
          {% endif %}>
        <label for="password">Contraseña</label>
        <input type="password" name="password" id="password" class="form-control"
          pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
          title="Debe contener al menos 8 caracteres. También debe contener 
            al menos un número, una mayúscula y una minúscula."
          placeholder="Contraseña segura" required />
        {% if error.tipo == 'PASSWORD' %} 
          <span class="help-block">{{ error.mensaje }}</span>
        {% endif %}
      </div>
      <div {% if error.tipo == 'PASSWORD' %} class="form-group col-md-6 form-left has-error"
          {% else %} class="form-group col-md-6 form-left" 
          {% endif %}>
        <label for="password2">Repetir Contraseña</label>
        <input type="password" name="password2" id="password2" class="form-control"
          pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
          title="Debe contener al menos 8 caracteres. También debe contener 
            al menos un número, una mayúscula y una minúscula."
          placeholder="Repetir la contraseña" required />
        {% if error.tipo == 'PASSWORD' %} 
          <span class="help-block">{{ error.mensaje }}</span>
        {% endif %}
      </div>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-primary col-xs-12">Crear Cuenta</button>
    </div>
  </form>
  <p class="text-center">
    ¿YA DISPONE DE UNA CUENTA? <a href="/login">INICIE SESIÓN</a>
  </p>
</div>
{% endblock %}
